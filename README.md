# eBPF Starter Project

## Directory Structure

```
ebpf_starter-project: root directory
|
├───.vscode: vscode config, delete if unneeded
|
├───bin: Generated by the build process that holds the userspace exe
|
├───build: holds all the build scripts for the userspace exe
|
├───include: common includes between the userspace and the kernel program
|
├───intermediate: generated by build with the intermediate .obj files of the userspace exe
|
├───kernelsrc: holds the source code and the binary for the eBPF kernel program
|
├───libs: holds our static libraries
|
└───src: source code for our userspace exe
    |
    └───vendor: source code from external vendors like the eBPF includes
        |
        └───eBPF: directory of the eBPF includes
```

## Build environment setup

1. Install the eBPF development files using the .msi installer.

2. Clone this repo. This will setup a convenient directory structure for us to use. The repo also contains some helpful build scripts which will let us hit the ground running in our development.

3. From the eBPF install directory, grab the include folder and paste it in our vendor directory.

   ```
   ├───vendor/eBPF/include
   where include is the copied folder from the eBPF directory.

    (NOTE): Instead of copying over the includes, you can also edit the makefile in /root/build/ and the build.bat file in /root/kernelsrc/ to point to the location of your eBPF includes.
   ```

4. From the eBPF install directory, grab the EbpfApi.lib from the lib directory and paste it in our libs directory.

   ```
   ├───root/libs/EbpfApi.lib

   (NOTE): Instead of copying over the lib file, you can also edit the makefile in /root/build/ to point to the location of the EbpfApi.lib
   ```
